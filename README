This is the Lejos code that allows the robot to follow a line and take sonar readings at the same time. 

Simple open it with eclipse, plug the NXT in and run. You can make changes to the speed and frequency with the variables at the top of the file.
